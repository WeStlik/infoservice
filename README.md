# InvoService Test Project

### Требования для запуска проекта:

> [!NOTE]
> Перед запуском проекта убедитесь, что у вас установлено:

- **PHP**: версия 8.1 или выше
- **Composer**: менеджер пакетов для PHP
- **Web-сервер**: Apache, Nginx или другой, поддерживающий PHP
- **СУБД**: MySQL, PostgreSQL, SQLite или другая поддерживаемая Laravel
- **Node.js и npm**: для установки и сборки ассетов

А также, все необходимые расширения для PHP:
- Расширение PHP Ctype
- Расширение PHP cURL
- Расширение PHP DOM
- Расширение PHP Fileinfo
- Расширение PHP Filter
- Расширение PHP Hash
- Расширение PHP Mbstring
- Расширение PHP OpenSSL
- Расширение PHP PCRE
- Расширение PHP PDO
- Расширение PHP Session
- Расширение PHP Tokenizer
- Расширение PHP XML

---

## 1. Запуск проекта локально

### Шаг 1: Клонирование репозитория

Клонируйте репозиторий проекта на вашу локальную машину:

```bash
git clone https://github.com/WeStlik/infoservice.git
```
Затем перейдите в директорию проекта:
```bash
cd your-repository
```

### Шаг 2: Установка зависимостей
После клонирования проекта установите зависимости с помощью Composer и NPM:
```bash
composer update
composer install
```
```bash
npm install
```

### Шаг 3: Настройка окружения
Скопируйте файл .env.example и переименуйте его в .env:
```bash
cp .env.example .env
```
Откройте файл **.env** и настройте параметры подключения к базе данных и другие конфигурации, такие как **APP_NAME**, **APP_URL**, **DB_CONNECTION**, **DB_HOST**, **DB_PORT**, **DB_DATABASE**, **DB_USERNAME**, и **DB_PASSWORD**.

### Шаг 4: Генерация ключа приложения
Сгенерируйте ключ для вашего приложения:
```bash
php artisan key:generate
```

### Шаг 5: Запуск миграций и сидов
Примените миграции для создания таблиц и заполнения начальными данными в базе данных:
```bash
php artisan migrate:fresh --seed
```

### Шаг 6: Сборка стилей и скриптов
Выполните команду для сборки стилей и скриптов
```bash
npm run build
```

### Шаг 7: Запуск локального сервера
Для запуска встроенного сервера Laravel выполните команду:

```bash
php artisan serve
```
Теперь ваш проект доступен по адресу: `http://localhost:8000`

---

## 1. Запуск проекта на хостинге

### Шаг 1: Загрузка файлов на хостинг

Загрузите все файлы проекта на ваш хостинг через FTP или другой способ (например, через панель управления хостингом).

### Шаг 2: Установка зависимостей
После загрузки файлов, зайдите на ваш сервер по SSH (если доступен) и выполните установку зависимостей с помощью Composer:
```bash
composer update
composer install
```
```bash
npm install
```
Если SSH недоступен, установите зависимости локально, затем загрузите папку vendor на сервер.

### Шаг 3: Настройка окружения
Скопируйте файл .env.example и переименуйте его в .env, если этого еще не сделали. Настройте параметры подключения к базе данных и другие конфигурации в этом файле.

### Шаг 4: Генерация ключа приложения
Сгенерируйте ключ для вашего приложения:
```bash
php artisan key:generate
```

### Шаг 5: Запуск миграций и сидов
Примените миграции для создания таблиц и заполнения начальными данными в базе данных:
```bash
php artisan migrate:fresh --seed
```

### Шаг 6: Сборка стилей и скриптов
Выполните команду для сборки стилей и скриптов
```bash
npm run build
```

### Шаг 7: Настройка веб-сервера
Убедитесь, что ваш веб-сервер настроен на использование директории public в качестве корневой.

Если вы используете Apache, создайте или обновите файл `.htaccess` в корневой директории проекта со следующим содержимым:

```bash
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteRule ^(.*)$ public/$1 [L]
</IfModule>

<IfModule mod_negotiation.c>
    Options -MultiViews -Indexes
</IfModule>

<IfModule mod_rewrite.c>
    RewriteEngine On

    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)/$ /$1 [L,R=301]

    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^ index.php [L]
</IfModule>
```
Этот файл направляет все запросы на файл `index.php`, который будет обрабатывать маршрутизацию приложения Laravel.

### Шаг 8: Настройка прав на файлы
Убедитесь, что у Laravel есть права на запись в директории `storage` и `bootstrap/cache`:
```bash
chmod -R 775 storage bootstrap/cache
```

Теперь ваш проект должен быть доступен по доменному имени, привязанному к вашему хостингу.
